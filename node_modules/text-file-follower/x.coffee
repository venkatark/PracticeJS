fs = require 'fs'
r = fs.createReadStream('x.x')
r.addListener('data', -> console.log('got data'))
r.addListener('close', -> console.log('got close'))
r.addListener('error', -> console.log('got error'))
r.addListener('end', -> console.log('got end'))
setTimeout((->), 500)